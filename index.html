<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:site_name" content="Selectionator"/>
	<meta property="og:title" content="Selectionator, from Evil Wizard Studios"/>
	<meta property="og:type"   content="website"/>
	<meta property="og:description" content="Selectionator is an asset for the Unity framework that provides sweetened and unsweetened weighted selections."/>
	<meta property="og:image" content="http://evilwizards.com/selectionator/img/ico/icon_lg.png"/>
	<meta property="og:url"content="http://evilwizards.com/selectionator"/>
	
	<link rel="apple-touch-icon" sizes="57x57" href="img/ico/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="img/ico/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="img/ico/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="img/ico/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="img/ico/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="img/ico/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="img/ico/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="img/ico/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="img/ico/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="img/ico/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="img/ico/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="img/ico/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="img/ico/favicon-16x16.png">
	<link rel="manifest" href="img/ico/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="img/ico/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">

    <title>Selectionator</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/landing-page.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic," rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	
	
	<!--Reference Charts-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="js/charts.js"></script>

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top topnav" role="navigation">
        <div class="container topnav">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand topnav" href="#">Selectionator</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#about">About</a>
                    </li>
					<li>
                        <a href="#docs">Documentation</a>
                    </li>
                    <li>
                        <a href="#ref">Selection Reference</a>
                    </li>
                    <li>
                        <a href="#support">Support</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>


    <!-- Header -->
    <div class="intro-header">
        <div class="container">

            <div class="row">
                <div class="col-lg-12">
                    <div class="intro-message">
                        <h1>Selectionator</h1>
                        <h3>Weighted Selections in Unity</h3>
                        <hr class="intro-divider">
                        <ul class="list-inline intro-social-buttons">
						    <li>
                                <a href="webdemo/index.html" class="btn btn-default btn-lg"><i class="fa fa-play-circle-o fa-fw"></i> <span class="network-name">Selectionator Demo</span></a>
                            </li>
                            <li>
                                <a href="http://u3d.as/content/evil-wizard-studios/selectionator-weighted-selection-engine" class="btn btn-default btn-lg"><i class="fa fa-download fa-fw"></i> <span class="network-name">Unity Asset Store</span></a>
                            </li>
                            <li>
                                <a href="http://forum.unity3d.com/threads/released-selectionator-weighted-selections-with-find.333100/" class="btn btn-default btn-lg"><i class="fa fa-comments fa-fw"></i> <span class="network-name">Forum Thread</span></a>
                            </li>
                            <li>
					<a href="https://twitter.com/intent/tweet?screen_name=evilwizards&text=SELECTIONATOR%20SUCKS%20BRO" target="_blank" class="btn btn-default btn-lg"><i class="fa fa-twitter fa-fw"></i> <span class="network-name">Tweet @evilwizards</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.intro-header -->

    <!-- Page Content -->
	<a name="about"></a>
    <div class="content-section-a">

        <div class="container">
            <div class="row">
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">About Selectionator</h2>
                    <p class="lead">
					<b>Selectionator</b> is an asset for the Unity Game Engine that provides weighted random selections and allows for bonus sweetening (often known as magic-find bonuses).<br>
					It is quick, powerful, flexible, and boasts an extremely easy setup.
					You can find Selectionator <a href="http://u3d.as/content/evil-wizard-studios/selectionator-weighted-selection-engine">in the Unity Asset Store</a>
					<br>
					<br>
					This page contains <a href="#docs">instructions and examples</a> for setting up and using Selectionator, a <a href="#ref">reference guide</a> for the selection modes and how they influence selection sweetening, and <a href="#support">contact information</a> if you've found a bug or are having trouble using the asset.
					</p>
            </div>

        </div>
        <!-- /.container -->

    </div>
	
	<a name="docs"></a>
    <div class="content-section-b">

        <div class="container">
            <div class="row">

                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">Selectionator Documentation</h2>
					<h4>Contents</h4>
					<ul>
						<li>
							<a href="#docs_setup"></i>Setup</a>
						</li>
						<li>
							<a href="#docs_use"></i>Use</a>
						</li>		
						<li>
							<a href="#docs_examples"></i>Example</a>
						</li>								
					</ul>
					<br><br>
					<a name="docs_setup"></a>
					<h4>Setup</h4>
                    <p class="lead">
					Selectionator can be found <a href="http://u3d.as/content/evil-wizard-studios/selectionator-weighted-selection-engine">in the Unity Asset Store</a>, and once downloaded can be imported into your unity project through the asset store window, or through the <i>Assets <i class="fa">&#xf0da;</i> Import Package <i class="fa">&#xf0da;</i> Custom Package</i> menu option.
					<br><br>
					Once imported, Selectionator is ready to go and requires no special initialization. Just add <code>using Selectionator;</code> to the top of your script.
					<br><br>
					However, any class that you want to use Selectionator with (that is to say, any class that you want to be able to <i>select</i>) must implement the <code>ISelectable</code> interface, like so:
<pre>
public class MyClass : ISelectable
{
        public float SelectionWeight { get; set; }
}</pre>
					SelectionWeight is what the Selector looks at internally, and the weight it returns is the object's selection weight. This can come from anywhere, but it must be a float value.
					It is recommended that selection weights are set in the class constructor. Items with null selection weights default to weight 0, and will not be selected.	</p>
					<br><br>
					
					<a name="docs_use"></a>
					<h4>Use</h4>
                    <p class="lead">
					Selectionator will work over any enumerable collection (so Arrays, Lists, ArrayLists, LinkedLists, etc. Basically, if LINQ can touch it, so can Selectionator).<br><br>
					Let's assume that we have an enumerable collection of <code>MyClass</code> objects, where MyClass implements ISelectable. We'll call this collection <code>MySelectableCollection</code>. The first step in getting a selection from this collection is to create a new selector, like so:
					</p>
					<pre> Selector mySelector = new Selector()</pre>
					<p class="lead">
					An instantiated selector without parameters defaults to <code>SelectionPivot.Mean</code> and <code>SelectionRange.All</code>. If different parameters are supplied, we can change the way the selector handles bonus values. For an in-depth look at how selection pivots and ranges work, <a href="#ref">please click here</a>.<br>
					<br><br>
					Now that we have our selector, we can make selections. There are two selection methods: <code>Single</code> and <code>Multiple</code>.<br><br><br>
					<code>Single</code> takes a collection as its first parameter, and from it returns single item selection, like so:</p>
					<pre> var myItem = mySelector.Single(MySelectableCollection);</pre>
					<p class="lead">
					Without a second parameter, <code>Single</code> will return a selection based only on selection weight. To apply a "sweetener" (a bonus adjustment, such as magic-find), we add a float value as a second parameter:</p>
					<pre> var myItem = mySelector.Single(MySelectableCollection, 25.2f);</pre>
					<p class="lead">
					For a detailed description of how bonus values work, and exactly how they manipulate item weights, <a href="#ref">please click here</a>.<br><br>
					<br>
					<code>Multiple</code> works the same way as <code>Single</code>, but it returns an <code>IEnumerable</code> and takes an additional parameter: a quantity integer.<br>
<pre>
var basicMultiSelection = mySelector.Multiple(MySelectableCollection, 5);
	// returns an IEnumerable&lt;MyClass&gt; with 5 items.
		
var multiSelectionList = mySelector.Multiple(MySelectableCollection, 5).ToList();
	// Casting is often a good idea. This returns a List&lt;MyClass&gt; with 5 items.

var bonusMultiSelection = mySelector.Multiple(MySelectableCollection, 5, 50);
	// returns an IEnumerable&lt;MyClass&gt; with 5 items, using a selection bonus of 50.
</pre> 


					<p><br>
					<br>
					<p class="lead">
					Selectionator contains an additional useful function: <code>GetWeightDictionary</code><br>
					This function takes a collection of selectable objects and a bonus value, and returns a <code>Dictionary&lt;T, float&gt;</code>, where T is the type of the collection. The dictionary values represent the selection weights of the items after the bonus has been applied.
					<pre> var myWeightDictionary = mySelector.GetWeightDictionary(MySelectableCollection, 10);</pre>
					The dictionary is used <a href="webdemo/index.html" target="_blank">in the Demo</a> to get the selection probabilities of the items.
					</p>
					<br><br><br>
					<a name="docs_examples"></a>
					<h4>Example</h4>
					<p class="lead">
<pre>
    public class SelectionExample
    {
        public List<ExampleSelectableItem> SelectableItems;

        public void Example()
        {
            var SelectableItems = new List<ExampleSelectableItem>
            {
                new ExampleSelectableItem {Data = "Item A", SelectionWeight = 1},       // Selection Weight Notes:
                new ExampleSelectableItem {Data = "Item B", SelectionWeight = 2},       // Overlapping weights...
                new ExampleSelectableItem {Data = "Item C", SelectionWeight = 2},       // ...are valid.
                new ExampleSelectableItem {Data = "Item E", SelectionWeight = 3.3f},    // Explicit decimals are valid as well.
                new ExampleSelectableItem {Data = "Item F", SelectionWeight = 0},       // Values of zero, like this, will never be selected
                new ExampleSelectableItem {Data = "Item H", SelectionWeight = (5*2)},   // Anything that can be parsed as a float, like this...
                new ExampleSelectableItem {Data = "Item I", SelectionWeight = (1/9)},   // ...or like this, is valid.
            };
			
			Selector selector = new Selector();
			float bonus = 25;
			int itemCount = 5;
			
			Debug.Log(selector.Single(SelectableItems).Data);
			Debug.Log(selector.Single(SelectableItems, bonus).Data);
			Debug.Log(string.Join(", ", selector.Multiple(SelectableItems, itemCount).Select(item=>item.Data).ToArray()));
			Debug.Log(string.Join(", ", selector.Multiple(SelectableItems, itemCount, bonus).Select(item=>item.Data).ToArray()));
        }
</pre>
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">Console</h3>
						</div>
						<div class="panel-body">
							<samp>
							Item H<br>
							Item E<br>
							Item H, Item H, Item B, Item E<br>
							Item A, Item H, Item E, Item C<br>		
							</samp>
						</div>
					</div>

					</p>					
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.content-section-a -->
	<a name="ref"></a>
    <div class="content-section-a">

        <div class="container">

            <div class="row">

                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">Selection Reference</h2>
					<p class="lead">Selections can (and should!) be tested in <a href="webdemo/index.html">the demo</a>, which is both a demonstration of the system and a useful tool to ensure you've selected the optimal selection parameters for your projects.</p>
					<a href="webdemo/index.html" target="_blank" class="btn btn-default btn-lg" style="width: 100%; margin: 0 auto;"><i class="fa fa-play-circle-o fa-fw"></i> <span class="network-name">Selectionator Demo</span></a>
					<br><br>
                    <h4>Default Reference</h3>
					<p class="lead">Selectionator's default Selector is set to <code>SelectionPivot.Mean</code> and <code>SelectionRange.All</code>. This means that the selector will push <b>all</b> items in the collection towards the <b>average</b> weight of all items in the selection. Items adjusted by the bonus value approach the mean asymptotically — they'll get close at very high values, but never quite get there.<br>
					
						<div id="chart1_div" style="width: 100%; height: 300px;"></div>
					<br>
					<h4>Pivots</h3>

					<p class="lead">
						The "pivot" is the middle range that weights are adjusted to, if a bonus is being applied. <br>
						Selectionator can select from two built-in pivots: <code>SelectionPivot.Mean</code> and <code>SelectionPivot.Median</code>. When adjusting weights, Selectionator will push in-range weights towards the mean or median, respectively, of the entire selection. <br>
						In most cases, pivoting at the mean will result in a more dramatic shift at the range outliers. Over selection sets that have very different extremes, it may be more useful to use a median pivot, or, break the selection into a series of sets.
						<div class="well well-sm">
							For example, let's say we are developing an RPG and want a treasure chest to have a very small chance to drop one of a number of rare treasures, and we want an extremely small chance to drop a particularly rare ring of that set of rare treasures.<br>
							Just for the sake of the example, we'll say our treasure chest contains one of three items:<br>
							<i class="fa">&#xf0da;</i>&nbsp;&nbsp;A sword, of selection weight 100<br>
							<i class="fa">&#xf0da;</i>&nbsp;&nbsp;A gem, of selection weight 0.1<br>
							<i class="fa">&#xf0da;</i>&nbsp;&nbsp;A ring, of selection weight 0.001<br>
							A mean pivot selector jumps the ring to a 0.3% drop chance at a bonus value of only 1, and by bonus=50 the ring has over a 9% chance to drop! The table is just too swingy to use a mean pivot here. A median pivot, on the other hand, keeps the ring extremely rare.<br>
							However, a median pivot might keep the ring <i>too</i> rare if players can get bonus values in the hundreds or thousands. In these cases, it might be best to break up the drop tables. Execute a median-pivot selection on a list of potential drop tables (just have your tables themselves implement <code>ISelectable</code>), then execute a mean-pivot selection on the selected table. In this way, you can fine-tune drop rates even in situations where selections can be executed over hugely variant weights.
						</div>
						<br>
						</p>
					
					<h4>Ranges</h3>
					<p class="lead">
						The "range" is the subset of weights that the selector will adjust, if a bonus is being applied. Selectionator can select from three built-in ranges:<br> <code>SelectionRange.BelowPivot</code>, <code>SelectionRange.AbovePivot</code>, and <code>SelectionRange.All</code>. "BelowPivot" causes the selector to <b>only</b> adjust weights <i>below</i> the pivot (median or mean, as set by the <code>SelectionPivot</code> parameter), while "AbovePivot" operates <b>only</b> over rates <i>above</i> the pivot. "All" allows the selector to operate over <b>all</b> weights, <i>regardless of their relationship to the pivot</i>. <br>
						All-range adjustments produce a more dramatic, but more universally consistent, result. Below- and above-pivot range adjustments are best used over selection sets that are more heavily weighted towards a single "end" (that is to say, a majority of high-weighted or low-weighted items) and produce far more subtle results.
						<div class="alert alert-warning" role="alert">Warning! As shown in the table below, above-pivot ranges can result in <b>increased</b> chances for heavily weighted items, if item weights are disparate enough. If using an above-pivot selection range, it's best to ensure intended operation by checking <code>Selector.GetWeightDictionary</code> during testing. </div>
					</p>
					<br>
					<h4>Selector Parameter Reference</h3>
					<div id="chart2_div" style="width: 100%; height: 500px;"></div>


            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.content-section-b -->
	<a name="support"></a>
    <div class="content-section-b">

        <div class="container">

            <div class="row">

                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">Support</h2>
                    <p class="lead">Provided you've included the <code>Selectionator</code> namespace and your selectable objects implement <code>ISelectable</code>, it'll be difficult to run into problems while using Selectionator. That said, if you've found a bug or need some help, here's how you get in contact:</p>

					<a href="mailto:&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#101;&#118;&#105;&#108;&#119;&#105;&#122;&#097;&#114;&#100;&#115;&#116;&#117;&#100;&#105;&#111;&#115;&#046;&#099;&#111;&#109;" target="_blank" class="btn btn-default btn-lg"><i class="fa fa-envelope fa-fw"></i> <span class="network-name">Direct e-mail</span></a>&nbsp;&nbsp;&nbsp;

					<a href="http://forum.unity3d.com/threads/released-selectionator-weighted-selections-with-find.333100/" target="_blank" class="btn btn-default btn-lg"><i class="fa fa-comments fa-fw"></i> <span class="network-name">Unity Forum Thread</span></a>&nbsp;&nbsp;&nbsp;

					<a href="https://twitter.com/intent/tweet?screen_name=evilwizards&text=SELECTIONATOR%20SUCKS%20BRO" target="_blank" class="btn btn-default btn-lg"><i class="fa fa-twitter fa-fw"></i> <span class="network-name">Tweet @evilwizards</span></a>


            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.content-section-a -->

	<a name="support"></a>
    <div class="banner">

        <div class="container">

            <div class="row">
                <div class="col-lg-6">
                    <h2>Get Selectionator</h2>
                </div>
                <div class="col-lg-6">
                    <ul class="list-inline banner-social-buttons">
                            <li>
                                <a href="http://u3d.as/content/evil-wizard-studios/selectionator-weighted-selection-engine" target="_blank" class="btn btn-default btn-lg"><i class="fa fa-download fa-fw"></i> <span class="network-name">Unity Asset Store</span></a>
                            </li>
                    </ul>
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.banner -->

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <ul class="list-inline">
                        <li>
                            <a href="http://www.evilwizardstudios.com">Home</a>
                        </li>
                    </ul>
                    <p class="copyright text-muted small">Copyright &copy; Evil Wizard Studios 2015. All Rights Reserved</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63600834-1', 'auto');
  ga('send', 'pageview');

</script>
</html>
